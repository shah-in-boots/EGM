% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/wfdb-native.R
\name{wfdb_native}
\alias{wfdb_native}
\alias{read_signal_native}
\alias{read_wfdb_native}
\alias{write_wfdb_native}
\alias{read_annotation_native}
\alias{write_annotation_native}
\title{Native WFDB readers and writers without external utilities}
\usage{
read_signal_native(
  record,
  record_dir = ".",
  begin = 0,
  end = NA_real_,
  interval = NA_real_,
  units = c("digital", "physical"),
  channels = character(),
  ...
)

read_wfdb_native(
  record,
  record_dir = ".",
  annotator = NA_character_,
  begin = 0,
  end = NA_real_,
  interval = NA_real_,
  units = c("digital", "physical"),
  channels = character(),
  ...
)

write_wfdb_native(
  data,
  record,
  record_dir = ".",
  units = c("digital", "physical"),
  header = NULL,
  storage_format = NULL,
  info_strings = list(),
  overwrite = TRUE,
  ...
)

read_annotation_native(
  record,
  annotator,
  record_dir = ".",
  begin = 0,
  end = NA_real_,
  interval = NA_real_,
  ...
)

write_annotation_native(
  data,
  record,
  annotator,
  record_dir = ".",
  overwrite = FALSE,
  ...
)
}
\arguments{
\item{record}{Character scalar giving the record name (without extension).}

\item{record_dir}{Directory that contains the WFDB files.}

\item{begin, end, interval}{Numeric values expressed in seconds that describe
the portion of the record that should be read. Only one of \code{end} or
\code{interval} should be supplied.}

\item{units}{Either "digital" (default) or "physical" indicating whether to
return raw integer samples or scaled values.}

\item{channels}{Optional character or numeric vector specifying the channels
to retain.}

\item{...}{Reserved for future extensions.}

\item{annotator}{Optional annotator to read or write.}

\item{data}{When writing, either an \link{egm}, a \link{signal_table}, or a data frame
that can be coerced with \code{\link[=signal_table]{signal_table()}}.}

\item{header}{A \link{header_table} describing the channels. Required for writing
unless \code{data} is an \link{egm} object.}

\item{storage_format}{Optional integer WFDB storage format (one of 16, 32,
or 212) to use when writing. Defaults to the format declared in \code{header}.}

\item{info_strings}{Named list of info strings to append to the header when
writing.}

\item{overwrite}{Logical flag indicating whether existing WFDB files may be
replaced.}
}
\value{
\itemize{
\item \code{read_signal_native()} returns a \link{signal_table} that mirrors the structure
produced by \code{\link[=read_signal]{read_signal()}}.
\item \code{read_wfdb_native()} returns an \link{egm} object composed of the native signal
data, the parsed header, and any decoded annotations.
\item \code{write_wfdb_native()} invisibly returns a named list containing the written
\code{signal_path}, \code{header_path}, and the normalised \code{header}.
\item \code{read_annotation_native()} returns an \link{annotation_table} mirroring the
structure produced by \code{\link[=read_annotation]{read_annotation()}}.
\item \code{write_annotation_native()} invisibly returns the path to the WFDB
annotation file that was written.
}
}
\description{
These functions provide native replacements for the existing WFDB helpers
that rely on the external \code{wfdb} command line utilities. The implementation
operates entirely within R and C++ via \link{cpp11}, avoiding any dependency on
the WFDB C library while maintaining compatibility with WFDB-formatted
records.
}
\details{
The native backend mirrors the record-selection semantics of \code{\link[=read_signal]{read_signal()}}
and the WFDB \code{rdsamp} utility while supporting the three most common WFDB
storage formats—16-bit integers, 32-bit integers and the packed 12-bit
\code{212} format—for both reading and writing. The writer complements
\code{\link[=write_wfdb]{write_wfdb()}} by emitting WFDB-compatible \code{.hea} and \code{.dat} files without
invoking external binaries.
}
\seealso{
\code{\link[=read_signal]{read_signal()}}, \code{\link[=read_wfdb]{read_wfdb()}}
}
