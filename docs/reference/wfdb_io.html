<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function allows for WFDB files to be read from any WFDB-compatible
system, and also allows writing out WFDB-compatible files from specific EP
recording systems, as indicated in the details section. Writing WFDB leads to
creation of both a dat (signal) and hea (header) file. These are both
required for reading in files as well."><title>I/O of WFDB-compatible signal &amp; header files from EP recording systems — wfdb_io • egm</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="I/O of WFDB-compatible signal &amp; header files from EP recording systems — wfdb_io"><meta property="og:description" content="This function allows for WFDB files to be read from any WFDB-compatible
system, and also allows writing out WFDB-compatible files from specific EP
recording systems, as indicated in the details section. Writing WFDB leads to
creation of both a dat (signal) and hea (header) file. These are both
required for reading in files as well."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">egm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="external-link nav-link" href="https://shah-in-boots.github.io/">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a>
    <a class="dropdown-item" href="../articles/intro-wfdb.html">Introduction to the WFDB Software Package</a>
    <a class="dropdown-item" href="../articles/segmentation.html">Signal Segmentation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/shah-in-boots/egm/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>I/O of WFDB-compatible signal &amp; header files from EP recording systems</h1>
      <small class="dont-index">Source: <a href="https://github.com/shah-in-boots/egm/blob/HEAD/R/wfdb-io.R" class="external-link"><code>R/wfdb-io.R</code></a></small>
      <div class="d-none name"><code>wfdb_io.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function allows for WFDB files to be read from any WFDB-compatible
system, and also allows writing out WFDB-compatible files from specific EP
recording systems, as indicated in the details section. Writing WFDB leads to
creation of both a <strong>dat</strong> (signal) and <strong>hea</strong> (header) file. These are both
required for reading in files as well.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_wfdb</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">record</span>,</span>
<span>  <span class="va">record_dir</span>,</span>
<span>  wfdb_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"wfdb_path"</span><span class="op">)</span>,</span>
<span>  header <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>frequency <span class="op">=</span> <span class="fl">250</span>, gain <span class="op">=</span> <span class="fl">200L</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  info_strings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_wfdb</span><span class="op">(</span></span>
<span>  <span class="va">record</span>,</span>
<span>  record_dir <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  annotator <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  wfdb_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"wfdb_path"</span><span class="op">)</span>,</span>
<span>  begin <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  end <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  interval <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"digital"</span>,</span>
<span>  channels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_signal</span><span class="op">(</span></span>
<span>  <span class="va">record</span>,</span>
<span>  record_dir <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  wfdb_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"wfdb_path"</span><span class="op">)</span>,</span>
<span>  begin <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  end <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  interval <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"digital"</span>,</span>
<span>  channels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_header</span><span class="op">(</span><span class="va">record</span>, record_dir <span class="op">=</span> <span class="st">"."</span>, wfdb_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"wfdb_path"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>Can either be an <code>egm</code> object, or a <code>data.frame</code> (or similar)
object. The function will appropriately set defaults based on the type.</p><ul><li><p><code>egm</code> = Will extract signal and header data directly from object, and thus is simplest to convert to a WFDB format</p></li>
<li><p><code>signal_table</code> = This is a customized <code>data.table</code> class that has an invariant column containing sample information.</p></li>
<li><p><code>data.frame</code> or <code>data.table</code> = Must have a column that represents a time point or index, and columns that represent signal values (preferably integers)</p></li>
</ul></dd>


<dt>record</dt>
<dd><p>String that will be used to name the WFDB record. Cannot
include extensions, and is not a filepath. alphanumeric characters are
acceptable, as well as hyphens (-) and underscores (_)</p></dd>


<dt>record_dir</dt>
<dd><p>File path of directory that should be used read and write
files. Defaults to current directory.</p></dd>


<dt>wfdb_path</dt>
<dd><p>Path that leads to installed <code>wfdb</code> software package on
device. Needs to be directly set using <code><a href="wfdb_paths.html">set_wfdb_path()</a></code>. Obtained from the
system options on loading of the package, <code>getOption('wfdb_path')</code></p></dd>


<dt>header</dt>
<dd><p>A header file is an optional named list of parameters that
will be used to organize and describe the signal input from the <strong>data</strong>
argument. If the <strong>type</strong> is given, specific additional elements will be
searched for, such as the low or high pass filters, colors, or other signal
attributes. At minimum, the following elements are required (as cannot be
calculated):</p><ul><li><p>frequency = sample frequency in Hertz as <code>integer</code></p></li>
<li><p>label = vector of names for each channel as <code>character</code></p></li>
<li><p>start_time = date/time object</p></li>
</ul></dd>


<dt>info_strings</dt>
<dd><p>A <code>list</code> of strings that will be written as an appendix
to the header file, usually containing information about the channels,
(e.g. list of colors, extra labels, etc).</p></dd>


<dt>...</dt>
<dd><p>Additional arguments to be passed to the function</p></dd>


<dt>annotator</dt>
<dd><p>String that is the name of a WFDB-compatible annotation
type, serving as the extension for the file that is written containing that
annotation. Please see <code><a href="wfdb_annotations.html">read_annotation()</a></code> and <code><a href="wfdb_annotations.html">write_annotation()</a></code> for
further details.</p></dd>


<dt>begin, end, interval</dt>
<dd><p>Timepoint as an <code>integer</code> (representing seconds),
which is converted to an index position based on sampling frequency. The
default is to start at the beginning of the record. If <code>end</code> or <code>interval</code>
are given, the earlier of the two will be returned. The <code>end</code> argument
gives a time index to read until. The <code>interval</code> argument is the length of
time past the start point.</p></dd>


<dt>units</dt>
<dd><p>A <code>character</code> string representing either <em>digital</em> (DEFAULT) or <em>physical</em>
units that should be used, if available.</p><ul><li><p>digital = Index in sample number, signal in integers (A/D units)</p></li>
<li><p>physical = Index in elapsed time, signal in decimal voltage (e.g. mV).
This will <strong>include 1 additional row over the header/column names</strong> that
describes units</p></li>
</ul></dd>


<dt>channels</dt>
<dd><p>Either the signal/channel in a <code>character</code> vector as a name or number.
Allows for duplication of signal or to re-order signal if needed. If
nothing is given, will default to all channels available.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Depends on if it is a reading or writing function. For writing, will
output an WFDB-based object reflecting the function. For reading, will
output an extension of a <code>data.table</code> object reflecting the underlying
function (e.g. <code><a href="signal_table.html">signal_table()</a></code> will return an object of class).</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>write_wfdb()</code>: Writes out signal and header data into a WFDB-compatible
format from R.</p></li>
<li><p><code>read_wfdb()</code>: Reads a multicomponent WFDB-formatted set of files
directly into an <code>egm</code> object. This serves to pull together
<code>read_signal()</code>, <code>read_header()</code>, and <code><a href="wfdb_annotations.html">read_annotation()</a></code> for simplicity.</p></li>
<li><p><code>read_signal()</code>: Specifically reads the signal data from the WFDB binary
format, returning a <code>signal_table</code> object for evaluation in the R
environment</p></li>
<li><p><code>read_header()</code>: Specifically reads the header data from the WFDB header
text format, returning a <code>header_table</code> object for evaluation in the R
environment</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="recording-systems">Recording systems<a class="anchor" aria-label="anchor" href="#recording-systems"></a></h2>
    <p>Type of signal data, as specified by the recording system, that are currently
supported.</p><ul><li><p><em>lspro</em> = LabSystem Pro, e.g. <code><a href="lspro.html">read_lspro()</a></code></p></li>
<li><p><em>muse</em> = GE MUSE, e.g. <code><a href="muse.html">read_muse()</a></code></p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anish S. Shah.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9. Colorspace from the <strong>OrYel</strong> palette</p>
</div>

    </footer></div>

  

  

  </body></html>

